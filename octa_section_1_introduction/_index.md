---
title: Раздел 1. Введение, цели, концепция и терминология
order: 1.8
---

## 1\.1 Назначение проекта

Проект OCTA (Operational Control & Testing Automation) представляет собой систему управления испытательными стендами через облачную платформу. Система предназначена для автоматизации процессов диагностики, испытаний и ремонта промышленного оборудования.

### 1\.1.1 Ключевые особенности

-  **Облачное управление**: Вся логика и конфигурация хранится в облаке
-  **Трёхкомпонентная архитектура**: Core, Terminal (HMI), Display (TV)
-  **Физическое подтверждение**: Обязательные физические кнопки для критических операций
-  **Bluetooth интеграция**: Поддержка беспроводных измерительных приборов
-  **Пошаговые сценарии**: Структурированные инструкции для операторов

## 1\.2 Цели системы

### 1\.2.1 Основные цели

-  Централизованное управление множеством стендов из единого облака
-  Автоматизация рутинных операций диагностики и ремонта
-  Стандартизация процедур испытаний
-  Снижение человеческого фактора через пошаговые инструкции
-  Обеспечение прослеживаемости всех операций

### 1\.2.2 Технические цели

-  Real-time мониторинг параметров оборудования
-  Безопасное выполнение операций с аварийными режимами
-  Интеграция с беспроводными измерительными приборами (штангенциркуль с Bluetooth)
-  Масштабируемость до сотен стендов
-  Работа в условиях временной потери связи

## 1\.3 Общая концепция работы

### 1\.3.1 Принцип "Облако знает больше стенда"

Стенд при включении:

1. Определяет наличие интернет-соединения
2. Используя свой уникальный токен (36-разрядный UUID), запрашивает конфигурацию
3. Загружает конфигуратор из облака
4. Применяет конфигурацию и готов к работе

:::quote 

"По сути облако знает о стенде больше, чем сам стенд"

:::

### 1\.3.2 Служебные и рабочие шаги

**Служебные шаги (0-9):**

-  Шаг 0: Загрузка конфигуратора
-  Шаг 1: Идентификация оператора (RFID 125 кГц)
-  Шаг 2: Сканирование диагностируемого аппарата (QR/RFID)
-  Шаг 3: Выбор типа диагностики/ремонта
-  Шаги 4-9: Резерв для служебных функций

**Рабочие шаги (10+):**

-  Механические действия (запилить, почистить, протереть)
-  Измерения линейных размеров (электронный штангенциркуль с Bluetooth)
-  Испытания с управлением клапанами и измерением давления
-  Фотофиксация результатов

## 1\.4 Терминология

### 1\.4.1 Основные термины

| Термин             | Определение                                                       |
|--------------------|-------------------------------------------------------------------|
| **stand_token**    | 36-разрядный UUID стенда (уникальный идентификатор)               |
| **device_token**   | Токен устройства: stand_token + суффикс (-Core, -HMI, -TV)        |
| **Core**           | Ядро управления на ESP32-P4, управляет физическим оборудованием   |
| **Terminal (HMI)** | Human Machine Interface - планшет для взаимодействия с оператором |
| **Display (TV)**   | Телевизор для отображения инструкций и результатов                |
| **Конфигуратор**   | Шаг 0, JSON с полным описанием стенда                             |
| **Служебные шаги** | Шаги 0-9 для инициализации и подготовки                           |
| **Рабочие шаги**   | Шаги 10+ для выполнения диагностики и ремонта                     |
| **Heartbeat**      | Периодическое сообщение "я в онлайне, всё хорошо"                 |

### 1\.4.2 Физические элементы

| Элемент              | Описание                    | Назначение                      |
|----------------------|-----------------------------|---------------------------------|
| **Кнопка "Принять"** | Физическая кнопка на стенде | Подтверждение результатов       |
| **Кнопка "Повтор"**  | Физическая кнопка на стенде | Повторное измерение             |
| **RFID считыватель** | 125 кГц                     | Идентификация оператора         |
| **Защитная ролета**  | Механическая защита         | Поднимается после идентификации |

## 1\.5 Основные сценарии использования

### 1\.5.1 Типовой сценарий диагностики

1. **Идентификация**: Оператор прикладывает RFID-карту
2. **Активация**: Поднимается защитная ролета, показывается экран приветствия
3. **Сканирование**: Считывание QR/RFID с диагностируемого аппарата
4. **Выбор режима**: Оператор выбирает тип диагностики на терминале
5. **Выполнение**:
   -  Механические действия по инструкции
   -  Измерения штангенциркулем с Bluetooth
   -  Запуск испытаний (управление клапанами)
6. **Контроль**: Отображение результатов на TV
7. **Подтверждение**:
   -  Если результат устраивает -> физическая кнопка "Принять"
   -  Если не устраивает -> физическая кнопка "Повтор"
8. **Завершение**: Данные отправляются в облако

### 1\.5.2 Защитные механизмы

**5-секундный барьер:**

-  Если кнопка "Принять" нажата менее чем через 5 секунд после начала измерения - это ошибка
-  Защита от случайного/преждевременного подтверждения

**Неограниченные повторы:**

-  Количество повторов измерений не ограничено
-  Данные отправляются в облако только после нажатия физической кнопки "Принять"

## 1\.6 Принципы обмена данными

### 1\.6.1 Иерархия управления

```
Облако (главный контроллер)
    ↓ WebSocket
Core (маршрутизатор команд)
    ├→ Terminal (сбор данных)
    └→ Display (визуализация)
```

### 1\.6.2 Поток данных

-  **Bluetooth устройства** -> Terminal -> Core -> Облако
-  Данные от Bluetooth устройств передаются "как есть" (сырые)
-  Terminal держит измерения до нажатия физической кнопки
-  Core распределяет команды между устройствами

## 1\.7 Аварийные режимы

### 1\.7.1 Потеря связи с облаком

При потере связи стенд переходит в аварийное состояние, описанное в конфигураторе:

-  Переключение клапанов в безопасное положение
-  Сброс давления
-  Выключение измерительных приборов
-  Отключение блоков питания

### 1\.7.2 Потеря связи с модулями

При потере связи с Terminal или Display:

-  Генерируется ошибка
-  Облако получает уведомление
-  Стенд может продолжить работу в ограниченном режиме

## 1\.8 Требования к реализации

### 1\.8.1 Обязательные элементы

1. **Физические кнопки** - обязательны для подтверждения критических операций
2. **Конфигуратор** - должен загружаться при каждом включении
3. **Heartbeat** - периодическая отправка состояния в облако
4. **Аварийный режим** - должен быть определён в конфигураторе

### 1\.8.2 Временные ограничения

-  Минимальное время до подтверждения: 5 секунд
-  Максимальное время измерения: от 10 секунд до 10 минут
-  Период heartbeat: 5 секунд (рекомендуемый)
-  Таймаут потери связи: 30 секунд

## 1\.9 Исключения из текущей версии

:::quote 

**Важно**: Вопросы безопасности и шифрования будут рассмотрены в следующей редакции документа

:::

В текущей версии не рассматриваются:

-  Шифрование каналов связи
-  Аутентификация и авторизация
-  Защита от несанкционированного доступа
-  Криптографические подписи

---

*Конец Раздела 1*